{{- /*
Generated from 'alertmanager-overview' from https://raw.githubusercontent.com/prometheus-operator/kube-prometheus/main/manifests/grafana-dashboardDefinitions.yaml
Do not change in-place! In order to change this file first read following link:
https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack/hack
*/ -}}
{{- $kubeTargetVersion := default .Capabilities.KubeVersion.GitVersion .Values.kubeTargetVersionOverride }}
{{- if and (or .Values.grafana.enabled .Values.grafana.forceDeployDashboards) (semverCompare ">=1.14.0-0" $kubeTargetVersion) (semverCompare "<9.9.9-9" $kubeTargetVersion) .Values.grafana.defaultDashboardsEnabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  namespace: {{ template "kube-prometheus-stack-grafana.namespace" . }}
  name: {{ printf "%s-%s" (include "kube-prometheus-stack.fullname" $) "aws-ec2" | trunc 63 | trimSuffix "-" }}
  annotations:
{{ toYaml .Values.grafana.sidecar.dashboards.annotations | indent 4 }}
  labels:
    {{- if $.Values.grafana.sidecar.dashboards.label }}
    {{ $.Values.grafana.sidecar.dashboards.label }}: {{ ternary $.Values.grafana.sidecar.dashboards.labelValue "1" (not (empty $.Values.grafana.sidecar.dashboards.labelValue)) | quote }}
    {{- end }}
    app: {{ template "kube-prometheus-stack.name" $ }}-grafana
{{ include "kube-prometheus-stack.labels" $ | indent 4 }}
data:
  aws_ec2.json: |-
        {
            "annotations": {
              "list": [
                {
                  "builtIn": 1,
                  "datasource": {
                    "type": "datasource",
                    "uid": "grafana"
                  },
                  "enable": true,
                  "hide": true,
                  "iconColor": "rgba(0, 211, 255, 1)",
                  "name": "Annotations & Alerts",
                  "type": "dashboard"
                }
              ]
            },
            "description": "Visualize AWS EC2 and related EBS metrics",
            "editable": false,
            "fiscalYearStartMonth": 0,
            "gnetId": 617,
            "graphTooltip": 0,
            "id": 31,
            "links": [],
            "liveNow": false,
            "panels": [
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": {
                  "uid": "${datasource}"
                },
                "editable": true,
                "error": false,
                "fill": 1,
                "fillGradient": 0,
                "grid": {},
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 0
                },
                "hiddenSeries": false,
                "id": 7,
                "legend": {
                  "alignAsTable": true,
                  "avg": true,
                  "current": true,
                  "max": true,
                  "min": true,
                  "show": true,
                  "sort": "current",
                  "sortDesc": true,
                  "total": false,
                  "values": true
                },
                "lines": true,
                "linewidth": 2,
                "links": [],
                "nullPointMode": "connected",
                "options": {
                  "alertThreshold": true
                },
                "percentage": false,
                "pluginVersion": "9.5.2",
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "InstanceId": "$instanceid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "CPUUtilization",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EC2",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "A",
                    "region": "$region",
                    "statistic": "Average"
                  }
                ],
                "thresholds": [],
                "timeRegions": [],
                "title": "CPUUtilization",
                "tooltip": {
                  "msResolution": false,
                  "shared": true,
                  "sort": 0,
                  "value_type": "cumulative"
                },
                "type": "graph",
                "xaxis": {
                  "mode": "time",
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "format": "percent",
                    "logBase": 1,
                    "min": 0,
                    "show": true
                  },
                  {
                    "format": "short",
                    "logBase": 1,
                    "show": false
                  }
                ],
                "yaxis": {
                  "align": false
                }
              },
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": {
                  "uid": "${datasource}"
                },
                "editable": true,
                "error": false,
                "fill": 1,
                "fillGradient": 0,
                "grid": {},
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 7
                },
                "hiddenSeries": false,
                "id": 8,
                "legend": {
                  "alignAsTable": true,
                  "avg": true,
                  "current": true,
                  "max": true,
                  "min": true,
                  "show": true,
                  "sort": "current",
                  "sortDesc": true,
                  "total": false,
                  "values": true
                },
                "lines": true,
                "linewidth": 2,
                "links": [],
                "nullPointMode": "connected",
                "options": {
                  "alertThreshold": true
                },
                "percentage": false,
                "pluginVersion": "9.5.2",
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "InstanceId": "$instanceid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "CPUCreditUsage",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EC2",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "A",
                    "region": "$region",
                    "statistic": "Average"
                  },
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "InstanceId": "$instanceid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "CPUCreditBalance",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EC2",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "B",
                    "region": "$region",
                    "statistic": "Average"
                  }
                ],
                "thresholds": [],
                "timeRegions": [],
                "title": "CPUCredit",
                "tooltip": {
                  "msResolution": false,
                  "shared": true,
                  "sort": 0,
                  "value_type": "cumulative"
                },
                "type": "graph",
                "xaxis": {
                  "mode": "time",
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "format": "none",
                    "logBase": 1,
                    "min": 0,
                    "show": true
                  },
                  {
                    "format": "short",
                    "logBase": 1,
                    "show": false
                  }
                ],
                "yaxis": {
                  "align": false
                }
              },
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": {
                  "uid": "${datasource}"
                },
                "editable": true,
                "error": false,
                "fill": 1,
                "fillGradient": 0,
                "grid": {},
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 14
                },
                "hiddenSeries": false,
                "id": 9,
                "legend": {
                  "alignAsTable": true,
                  "avg": true,
                  "current": true,
                  "max": true,
                  "min": true,
                  "show": true,
                  "sort": "current",
                  "sortDesc": true,
                  "total": false,
                  "values": true
                },
                "lines": true,
                "linewidth": 2,
                "links": [],
                "nullPointMode": "connected",
                "options": {
                  "alertThreshold": true
                },
                "percentage": false,
                "pluginVersion": "9.5.2",
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "InstanceId": "$instanceid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "DiskReadOps",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EC2",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "A",
                    "region": "$region",
                    "statistic": "Average"
                  },
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "InstanceId": "$instanceid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "DiskWriteOps",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EC2",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "B",
                    "region": "$region",
                    "statistic": "Average"
                  }
                ],
                "thresholds": [],
                "timeRegions": [],
                "title": "DiskOps",
                "tooltip": {
                  "msResolution": false,
                  "shared": true,
                  "sort": 0,
                  "value_type": "cumulative"
                },
                "type": "graph",
                "xaxis": {
                  "mode": "time",
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "format": "none",
                    "logBase": 1,
                    "min": 0,
                    "show": true
                  },
                  {
                    "format": "short",
                    "logBase": 1,
                    "show": false
                  }
                ],
                "yaxis": {
                  "align": false
                }
              },
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": {
                  "uid": "${datasource}"
                },
                "editable": true,
                "error": false,
                "fill": 1,
                "grid": {},
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 21
                },
                "id": 10,
                "legend": {
                  "alignAsTable": true,
                  "avg": true,
                  "current": true,
                  "max": true,
                  "min": true,
                  "show": true,
                  "sort": "current",
                  "sortDesc": true,
                  "total": false,
                  "values": true
                },
                "lines": true,
                "linewidth": 2,
                "links": [],
                "nullPointMode": "connected",
                "percentage": false,
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "InstanceId": "$instanceid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "DiskReadBytes",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EC2",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "A",
                    "region": "$region",
                    "statistic": "Average"
                  },
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "InstanceId": "$instanceid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "DiskWriteBytes",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EC2",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "B",
                    "region": "$region",
                    "statistic": "Average"
                  }
                ],
                "thresholds": [],
                "title": "DiskBytes",
                "tooltip": {
                  "msResolution": false,
                  "shared": true,
                  "sort": 0,
                  "value_type": "cumulative"
                },
                "type": "graph",
                "xaxis": {
                  "mode": "time",
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "format": "bytes",
                    "logBase": 1,
                    "min": 0,
                    "show": true
                  },
                  {
                    "format": "short",
                    "logBase": 1,
                    "show": false
                  }
                ],
                "yaxis": {
                  "align": false
                }
              },
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": {
                  "uid": "${datasource}"
                },
                "editable": true,
                "error": false,
                "fill": 1,
                "grid": {},
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 28
                },
                "id": 11,
                "legend": {
                  "alignAsTable": true,
                  "avg": true,
                  "current": true,
                  "max": true,
                  "min": true,
                  "show": true,
                  "sort": "current",
                  "sortDesc": true,
                  "total": false,
                  "values": true
                },
                "lines": true,
                "linewidth": 2,
                "links": [],
                "nullPointMode": "connected",
                "percentage": false,
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "InstanceId": "$instanceid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "NetworkIn",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EC2",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "A",
                    "region": "$region",
                    "statistic": "Average"
                  },
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "InstanceId": "$instanceid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "NetworkOut",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EC2",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "B",
                    "region": "$region",
                    "statistic": "Average"
                  }
                ],
                "thresholds": [],
                "title": "Network",
                "tooltip": {
                  "msResolution": false,
                  "shared": true,
                  "sort": 0,
                  "value_type": "cumulative"
                },
                "type": "graph",
                "xaxis": {
                  "mode": "time",
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "format": "bytes",
                    "logBase": 1,
                    "min": 0,
                    "show": true
                  },
                  {
                    "format": "short",
                    "logBase": 1,
                    "show": false
                  }
                ],
                "yaxis": {
                  "align": false
                }
              },
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": {
                  "uid": "${datasource}"
                },
                "editable": true,
                "error": false,
                "fill": 1,
                "grid": {},
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 35
                },
                "id": 12,
                "legend": {
                  "alignAsTable": true,
                  "avg": true,
                  "current": true,
                  "max": true,
                  "min": true,
                  "show": true,
                  "sort": "current",
                  "sortDesc": true,
                  "total": false,
                  "values": true
                },
                "lines": true,
                "linewidth": 2,
                "links": [],
                "nullPointMode": "connected",
                "percentage": false,
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "InstanceId": "$instanceid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "NetworkPacketsIn",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EC2",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "A",
                    "region": "$region",
                    "statistic": "Average"
                  },
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "InstanceId": "$instanceid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "NetworkPacketsOut",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EC2",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "B",
                    "region": "$region",
                    "statistic": "Average"
                  }
                ],
                "thresholds": [],
                "title": "NetworkPackets",
                "tooltip": {
                  "msResolution": false,
                  "shared": true,
                  "sort": 0,
                  "value_type": "cumulative"
                },
                "type": "graph",
                "xaxis": {
                  "mode": "time",
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "format": "none",
                    "logBase": 1,
                    "min": 0,
                    "show": true
                  },
                  {
                    "format": "short",
                    "logBase": 1,
                    "show": false
                  }
                ],
                "yaxis": {
                  "align": false
                }
              },
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": {
                  "uid": "${datasource}"
                },
                "editable": true,
                "error": false,
                "fill": 1,
                "grid": {},
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 42
                },
                "id": 13,
                "legend": {
                  "alignAsTable": true,
                  "avg": true,
                  "current": true,
                  "max": true,
                  "min": true,
                  "show": true,
                  "sort": "current",
                  "sortDesc": true,
                  "total": false,
                  "values": true
                },
                "lines": true,
                "linewidth": 2,
                "links": [],
                "nullPointMode": "connected",
                "percentage": false,
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "InstanceId": "$instanceid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "StatusCheckFailed",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EC2",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "A",
                    "region": "$region",
                    "statistic": "Average"
                  },
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "InstanceId": "$instanceid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "StatusCheckFailed_Instance",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EC2",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "B",
                    "region": "$region",
                    "statistic": "Average"
                  },
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "InstanceId": "$instanceid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "StatusCheckFailed_System",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EC2",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "C",
                    "region": "$region",
                    "statistic": "Average"
                  }
                ],
                "thresholds": [],
                "title": "StatusCheck",
                "tooltip": {
                  "msResolution": false,
                  "shared": true,
                  "sort": 0,
                  "value_type": "cumulative"
                },
                "type": "graph",
                "xaxis": {
                  "mode": "time",
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "format": "none",
                    "logBase": 1,
                    "min": 0,
                    "show": true
                  },
                  {
                    "format": "short",
                    "logBase": 1,
                    "show": false
                  }
                ],
                "yaxis": {
                  "align": false
                }
              },
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": {
                  "uid": "${datasource}"
                },
                "editable": true,
                "error": false,
                "fill": 1,
                "grid": {},
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 49
                },
                "id": 14,
                "legend": {
                  "alignAsTable": true,
                  "avg": true,
                  "current": true,
                  "max": true,
                  "min": true,
                  "show": true,
                  "sort": "current",
                  "sortDesc": true,
                  "total": false,
                  "values": true
                },
                "lines": true,
                "linewidth": 2,
                "links": [],
                "nullPointMode": "connected",
                "percentage": false,
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "VolumeId": "$volumeid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "VolumeReadOps",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EBS",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "A",
                    "region": "$region",
                    "statistic": "Average"
                  },
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "VolumeId": "$volumeid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "VolumeWriteOps",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EBS",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "B",
                    "region": "$region",
                    "statistic": "Average"
                  }
                ],
                "thresholds": [],
                "title": "EBS VolumeOps",
                "tooltip": {
                  "msResolution": false,
                  "shared": true,
                  "sort": 0,
                  "value_type": "cumulative"
                },
                "type": "graph",
                "xaxis": {
                  "mode": "time",
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "format": "none",
                    "logBase": 1,
                    "min": 0,
                    "show": true
                  },
                  {
                    "format": "short",
                    "logBase": 1,
                    "show": false
                  }
                ],
                "yaxis": {
                  "align": false
                }
              },
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": {
                  "uid": "${datasource}"
                },
                "editable": true,
                "error": false,
                "fill": 1,
                "grid": {},
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 56
                },
                "id": 15,
                "legend": {
                  "alignAsTable": true,
                  "avg": true,
                  "current": true,
                  "max": true,
                  "min": true,
                  "show": true,
                  "sort": "current",
                  "sortDesc": true,
                  "total": false,
                  "values": true
                },
                "lines": true,
                "linewidth": 2,
                "links": [],
                "nullPointMode": "connected",
                "percentage": false,
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "VolumeId": "$volumeid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "VolumeReadBytes",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EBS",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "A",
                    "region": "$region",
                    "statistic": "Average"
                  },
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "VolumeId": "$volumeid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "VolumeWriteBytes",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EBS",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "B",
                    "region": "$region",
                    "statistic": "Average"
                  }
                ],
                "thresholds": [],
                "title": "EBS VolumeBytes",
                "tooltip": {
                  "msResolution": false,
                  "shared": true,
                  "sort": 0,
                  "value_type": "cumulative"
                },
                "type": "graph",
                "xaxis": {
                  "mode": "time",
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "format": "bytes",
                    "logBase": 1,
                    "min": 0,
                    "show": true
                  },
                  {
                    "format": "short",
                    "logBase": 1,
                    "show": false
                  }
                ],
                "yaxis": {
                  "align": false
                }
              },
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": {
                  "uid": "${datasource}"
                },
                "editable": true,
                "error": false,
                "fill": 1,
                "grid": {},
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 63
                },
                "id": 16,
                "legend": {
                  "alignAsTable": true,
                  "avg": true,
                  "current": true,
                  "max": true,
                  "min": true,
                  "show": true,
                  "sort": "current",
                  "sortDesc": true,
                  "total": false,
                  "values": true
                },
                "lines": true,
                "linewidth": 2,
                "links": [],
                "nullPointMode": "connected",
                "percentage": false,
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [
                  {
                    "alias": "VolumeIdleTime_Average",
                    "yaxis": 2
                  }
                ],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "VolumeId": "$volumeid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "VolumeQueueLength",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EBS",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "A",
                    "region": "$region",
                    "statistic": "Average"
                  }
                ],
                "thresholds": [],
                "title": "EBS VolumeQueueLength",
                "tooltip": {
                  "msResolution": false,
                  "shared": true,
                  "sort": 0,
                  "value_type": "cumulative"
                },
                "type": "graph",
                "xaxis": {
                  "mode": "time",
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "format": "none",
                    "logBase": 1,
                    "min": 0,
                    "show": true
                  },
                  {
                    "format": "s",
                    "logBase": 1,
                    "show": false
                  }
                ],
                "yaxis": {
                  "align": false
                }
              },
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": {
                  "uid": "${datasource}"
                },
                "editable": true,
                "error": false,
                "fill": 1,
                "grid": {},
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 70
                },
                "id": 17,
                "legend": {
                  "alignAsTable": true,
                  "avg": true,
                  "current": true,
                  "max": true,
                  "min": true,
                  "show": true,
                  "sort": "current",
                  "sortDesc": true,
                  "total": false,
                  "values": true
                },
                "lines": true,
                "linewidth": 2,
                "links": [],
                "nullPointMode": "connected",
                "percentage": false,
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [
                  {
                    "alias": "VolumeIdleTime_Average",
                    "yaxis": 2
                  }
                ],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "VolumeId": "$volumeid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "VolumeTotalReadTime",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EBS",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "A",
                    "region": "$region",
                    "statistic": "Average"
                  },
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "VolumeId": "$volumeid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "VolumeTotalWriteTime",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EBS",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "B",
                    "region": "$region",
                    "statistic": "Average"
                  },
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "VolumeId": "$volumeid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "VolumeIdleTime",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EBS",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "C",
                    "region": "$region",
                    "statistic": "Average"
                  }
                ],
                "thresholds": [],
                "title": "EBS VolumeTime",
                "tooltip": {
                  "msResolution": false,
                  "shared": true,
                  "sort": 0,
                  "value_type": "cumulative"
                },
                "type": "graph",
                "xaxis": {
                  "mode": "time",
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "format": "s",
                    "logBase": 1,
                    "min": 0,
                    "show": true
                  },
                  {
                    "format": "s",
                    "logBase": 1,
                    "show": true
                  }
                ],
                "yaxis": {
                  "align": false
                }
              },
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": {
                  "uid": "${datasource}"
                },
                "editable": true,
                "error": false,
                "fill": 1,
                "grid": {},
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 77
                },
                "id": 18,
                "legend": {
                  "alignAsTable": true,
                  "avg": true,
                  "current": true,
                  "max": true,
                  "min": true,
                  "show": true,
                  "sort": "current",
                  "sortDesc": true,
                  "total": false,
                  "values": true
                },
                "lines": true,
                "linewidth": 2,
                "links": [],
                "nullPointMode": "connected",
                "percentage": false,
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [
                  {
                    "alias": "VolumeIdleTime_Average",
                    "yaxis": 2
                  },
                  {
                    "alias": "VolumeConsumedReadWriteOps_Average",
                    "yaxis": 2
                  }
                ],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "VolumeId": "$volumeid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "VolumeThroughputPercentage",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EBS",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "A",
                    "region": "$region",
                    "statistic": "Average"
                  },
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "VolumeId": "$volumeid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "VolumeConsumedReadWriteOps",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EBS",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "B",
                    "region": "$region",
                    "statistic": "Average"
                  }
                ],
                "thresholds": [],
                "title": "EBS VolumeThroughputPercentage",
                "tooltip": {
                  "msResolution": false,
                  "shared": true,
                  "sort": 0,
                  "value_type": "cumulative"
                },
                "type": "graph",
                "xaxis": {
                  "mode": "time",
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "format": "percent",
                    "logBase": 1,
                    "min": 0,
                    "show": true
                  },
                  {
                    "format": "none",
                    "logBase": 1,
                    "min": 0,
                    "show": true
                  }
                ],
                "yaxis": {
                  "align": false
                }
              },
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": {
                  "uid": "${datasource}"
                },
                "editable": true,
                "error": false,
                "fill": 1,
                "grid": {},
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 84
                },
                "id": 19,
                "legend": {
                  "alignAsTable": true,
                  "avg": true,
                  "current": true,
                  "max": true,
                  "min": true,
                  "show": true,
                  "sort": "current",
                  "sortDesc": true,
                  "total": false,
                  "values": true
                },
                "lines": true,
                "linewidth": 2,
                "links": [],
                "nullPointMode": "connected",
                "percentage": false,
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [
                  {
                    "alias": "VolumeIdleTime_Average",
                    "yaxis": 2
                  },
                  {
                    "alias": "VolumeConsumedReadWriteOps_Average",
                    "yaxis": 2
                  }
                ],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "alias": "",
                    "application": {
                      "filter": ""
                    },
                    "datasource": {
                      "uid": "${datasource}"
                    },
                    "dimensions": {
                      "VolumeId": "$volumeid"
                    },
                    "functions": [],
                    "group": {
                      "filter": ""
                    },
                    "host": {
                      "filter": ""
                    },
                    "item": {
                      "filter": ""
                    },
                    "metricEditorMode": 0,
                    "metricName": "BurstBalance",
                    "metricQueryType": 0,
                    "mode": 0,
                    "namespace": "AWS/EBS",
                    "options": {
                      "showDisabledItems": false
                    },
                    "period": "",
                    "refId": "A",
                    "region": "$region",
                    "statistic": "Average"
                  }
                ],
                "thresholds": [],
                "title": "EBS BurstBalance",
                "tooltip": {
                  "msResolution": false,
                  "shared": true,
                  "sort": 0,
                  "value_type": "cumulative"
                },
                "type": "graph",
                "xaxis": {
                  "mode": "time",
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "format": "percent",
                    "logBase": 1,
                    "min": 0,
                    "show": true
                  },
                  {
                    "format": "none",
                    "logBase": 1,
                    "min": 0,
                    "show": false
                  }
                ],
                "yaxis": {
                  "align": false
                }
              },
              {
                "content": "<a style=\"float: right\" href=\"http://www.monitoringartist.com\" target=\"_blank\" title=\"Dashboard maintained by Monitoring Artist - DevOps / Docker / Kubernetes / AWS ECS / Google GCP / Zabbix / Zenoss / Terraform / Monitoring\"><img src=\"https://monitoringartist.github.io/monitoring-artist-logo-grafana.png\" height=\"30px\" /></a>\n<div style=\"float: left\">\n<a target=\"_blank\" href=\"http://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/ec2-metricscollected.html\">AWS CloudWatch EC2 documentation</a>, \n<a target=\"_blank\" href=\"http://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/ebs-metricscollected.html\">AWS CloudWatch EBS documentation</a><br/>\n<a target=\"_blank\" href=\"https://grafana.net/dashboards/617\">Installed from Grafana.net dashboards</a>\n</div>\n<div style=\"clear:both; width:100%;height:0;font-size:0;\"></div>",
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "editable": true,
                "error": false,
                "gridPos": {
                  "h": 3,
                  "w": 24,
                  "x": 0,
                  "y": 91
                },
                "id": 2,
                "links": [],
                "mode": "html",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "prometheus"
                    },
                    "refId": "A"
                  }
                ],
                "title": "Documentation",
                "type": "text"
              }
            ],
            "refresh": "",
            "schemaVersion": 38,
            "style": "dark",
            "tags": [
              "monitoringartist",
              "cloudwatch"
            ],
            "templating": {
              "list": [
                {
                  "current": {
                    "selected": false,
                    "text": "CloudWatch",
                    "value": "CloudWatch"
                  },
                  "hide": 0,
                  "includeAll": false,
                  "label": "Datasource",
                  "multi": false,
                  "name": "datasource",
                  "options": [],
                  "query": "cloudwatch",
                  "refresh": 1,
                  "regex": "",
                  "skipUrlSync": false,
                  "type": "datasource"
                },
                {
                  "current": {
                    "selected": false,
                    "text": "default",
                    "value": "default"
                  },
                  "datasource": {
                    "uid": "${datasource}"
                  },
                  "definition": "",
                  "hide": 0,
                  "includeAll": false,
                  "label": "Region",
                  "multi": false,
                  "name": "region",
                  "options": [],
                  "query": "regions()",
                  "refresh": 1,
                  "regex": "",
                  "skipUrlSync": false,
                  "sort": 0,
                  "tagValuesQuery": "",
                  "tagsQuery": "",
                  "type": "query",
                  "useTags": false
                },
                {
                  "allValue": "*",
                  "current": {},
                  "datasource": {
                    "uid": "${datasource}"
                  },
                  "definition": "",
                  "error": {
                    "data": {
                      "message": "Unexpected error"
                    }
                  },
                  "hide": 0,
                  "includeAll": true,
                  "label": "Tag Name",
                  "multi": false,
                  "name": "instancename",
                  "options": [],
                  "query": "ec2_instance_attribute($region, Tags.Name, {})",
                  "refresh": 1,
                  "regex": "",
                  "skipUrlSync": false,
                  "sort": 1,
                  "tagValuesQuery": "",
                  "tagsQuery": "",
                  "type": "query",
                  "useTags": false
                },
                {
                  "current": {},
                  "datasource": {
                    "uid": "${datasource}"
                  },
                  "definition": "",
                  "error": {
                    "data": {
                      "message": "Unexpected error"
                    }
                  },
                  "hide": 0,
                  "includeAll": false,
                  "label": "Instance ID",
                  "multi": false,
                  "name": "instanceid",
                  "options": [],
                  "query": "ec2_instance_attribute($region, InstanceId, {\"tag:Name\": [\"$instancename\"]})",
                  "refresh": 1,
                  "regex": "",
                  "skipUrlSync": false,
                  "sort": 1,
                  "tagValuesQuery": "",
                  "tagsQuery": "",
                  "type": "query",
                  "useTags": false
                },
                {
                  "allValue": "*",
                  "current": {},
                  "datasource": {
                    "uid": "${datasource}"
                  },
                  "definition": "",
                  "error": {
                    "data": {
                      "message": "Unexpected error"
                    }
                  },
                  "hide": 0,
                  "includeAll": false,
                  "label": "EBS volume",
                  "multi": false,
                  "name": "volumeid",
                  "options": [],
                  "query": "ebs_volume_ids($region, $instanceid)",
                  "refresh": 1,
                  "regex": "",
                  "skipUrlSync": false,
                  "sort": 0,
                  "tagValuesQuery": "",
                  "tagsQuery": "",
                  "type": "query",
                  "useTags": false
                },
                {
                  "allValue": "*",
                  "current": {},
                  "datasource": {
                    "uid": "${datasource}"
                  },
                  "definition": "",
                  "error": {
                    "data": {
                      "message": "Unexpected error"
                    }
                  },
                  "hide": 0,
                  "includeAll": false,
                  "label": "Info InstanceType",
                  "multi": false,
                  "name": "instancetype",
                  "options": [],
                  "query": "ec2_instance_attribute($region,InstanceType, {\"instance-id\": [\"$instanceid\"]})",
                  "refresh": 1,
                  "regex": "",
                  "skipUrlSync": false,
                  "sort": 0,
                  "tagValuesQuery": "",
                  "tagsQuery": "",
                  "type": "query",
                  "useTags": false
                }
              ]
            },
            "time": {
              "from": "now-24h",
              "to": "now"
            },
            "timepicker": {
              "refresh_intervals": [
                "5s",
                "10s",
                "30s",
                "1m",
                "5m",
                "15m",
                "30m",
                "1h",
                "2h",
                "1d"
              ],
              "time_options": [
                "5m",
                "15m",
                "1h",
                "6h",
                "12h",
                "24h",
                "2d",
                "7d",
                "30d"
              ]
            },
            "timezone": "browser",
            "title": "AWS EC2",
            "uid": "AWSEc2000",
            "version": 1,
            "weekStart": ""
          }
{{- end}}